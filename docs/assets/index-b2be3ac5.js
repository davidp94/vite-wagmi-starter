import{b as le,_ as ce}from"./index-ba6688ab.js";const de=Symbol(),Z=Object.getPrototypeOf,J=new WeakMap,ue=e=>e&&(J.has(e)?J.get(e):Z(e)===Object.prototype||Z(e)===Array.prototype),fe=e=>ue(e)&&e[de]||null,ee=(e,t=!0)=>{J.set(e,t)},q=e=>typeof e=="object"&&e!==null,D=new WeakMap,T=new WeakSet,pe=(e=Object.is,t=(s,v)=>new Proxy(s,v),n=s=>q(s)&&!T.has(s)&&(Array.isArray(s)||!(Symbol.iterator in s))&&!(s instanceof WeakMap)&&!(s instanceof WeakSet)&&!(s instanceof Error)&&!(s instanceof Number)&&!(s instanceof Date)&&!(s instanceof String)&&!(s instanceof RegExp)&&!(s instanceof ArrayBuffer),r=s=>{switch(s.status){case"fulfilled":return s.value;case"rejected":throw s.reason;default:throw s}},l=new WeakMap,d=(s,v,O=r)=>{const b=l.get(s);if((b==null?void 0:b[0])===v)return b[1];const h=Array.isArray(s)?[]:Object.create(Object.getPrototypeOf(s));return ee(h,!0),l.set(s,[v,h]),Reflect.ownKeys(s).forEach(L=>{const C=Reflect.get(s,L);T.has(C)?(ee(C,!1),h[L]=C):C instanceof Promise?Object.defineProperty(h,L,{get(){return O(C)}}):D.has(C)?h[L]=we(C,O):h[L]=C}),Object.freeze(h)},g=new WeakMap,m=[1,1],G=s=>{if(!q(s))throw new Error("object required");const v=g.get(s);if(v)return v;let O=m[0];const b=new Set,h=(i,a=++m[0])=>{O!==a&&(O=a,b.forEach(o=>o(i,a)))};let L=m[1];const C=(i=++m[1])=>(L!==i&&!b.size&&(L=i,E.forEach(([a])=>{const o=a[1](i);o>O&&(O=o)})),O),Q=i=>(a,o)=>{const p=[...a];p[1]=[i,...p[1]],h(p,o)},E=new Map,re=(i,a)=>{if(({VITE_USER_NODE_ENV:"production",BASE_URL:"/vite-wagmi-starter/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&E.has(i))throw new Error("prop listener already exists");if(b.size){const o=a[3](Q(i));E.set(i,[a,o])}else E.set(i,[a])},X=i=>{var a;const o=E.get(i);o&&(E.delete(i),(a=o[1])==null||a.call(o))},ae=i=>(b.add(i),b.size===1&&E.forEach(([o,p],I)=>{if(({VITE_USER_NODE_ENV:"production",BASE_URL:"/vite-wagmi-starter/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&p)throw new Error("remove already exists");const H=o[3](Q(I));E.set(I,[o,H])}),()=>{b.delete(i),b.size===0&&E.forEach(([o,p],I)=>{p&&(p(),E.set(I,[o]))})}),K=Array.isArray(s)?[]:Object.create(Object.getPrototypeOf(s)),R=t(K,{deleteProperty(i,a){const o=Reflect.get(i,a);X(a);const p=Reflect.deleteProperty(i,a);return p&&h(["delete",[a],o]),p},set(i,a,o,p){var I;const H=Reflect.has(i,a),Y=Reflect.get(i,a,p);if(H&&e(Y,o))return!0;X(a),q(o)&&(o=fe(o)||o);let V=o;if(!((I=Object.getOwnPropertyDescriptor(i,a))!=null&&I.set))if(o instanceof Promise)o.then(S=>{o.status="fulfilled",o.value=S,h(["resolve",[a],S])}).catch(S=>{o.status="rejected",o.reason=S,h(["reject",[a],S])});else{!D.has(o)&&n(o)&&(V=y(o));const S=!T.has(V)&&D.get(V);S&&re(a,S)}return Reflect.set(i,a,V,p),h(["set",[a],o,Y]),!0}});g.set(s,R);const ie=[K,C,d,ae];return D.set(R,ie),Reflect.ownKeys(s).forEach(i=>{const a=Object.getOwnPropertyDescriptor(s,i);a.get||a.set?Object.defineProperty(K,i,a):R[i]=s[i]}),R})=>[G,D,T,e,t,n,r,l,d,g,m],[he]=pe();function y(e={}){return he(e)}function A(e,t,n){const r=D.get(e);({VITE_USER_NODE_ENV:"production",BASE_URL:"/vite-wagmi-starter/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&!r&&console.warn("Please use proxy object");let l;const d=[],g=r[3];let m=!1;const s=g(v=>{if(d.push(v),n){t(d.splice(0));return}l||(l=Promise.resolve().then(()=>{l=void 0,m&&t(d.splice(0))}))});return m=!0,()=>{m=!1,s()}}function we(e,t){const n=D.get(e);({VITE_USER_NODE_ENV:"production",BASE_URL:"/vite-wagmi-starter/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&!n&&console.warn("Please use proxy object");const[r,l,d]=n;return d(r,l(),t)}const u=y({selectedChain:void 0,chains:void 0,standaloneChains:void 0,standaloneUri:void 0,isStandalone:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1,walletConnectVersion:1}),f={state:u,subscribe(e){return A(u,()=>e(u))},setChains(e){u.chains=e},setStandaloneChains(e){u.standaloneChains=e},setStandaloneUri(e){u.standaloneUri=e},getSelectedChain(){const e=j.client().getNetwork().chain;return e&&(u.selectedChain=e),u.selectedChain},setSelectedChain(e){u.selectedChain=e},setIsStandalone(e){u.isStandalone=e},setIsCustomDesktop(e){u.isCustomDesktop=e},setIsCustomMobile(e){u.isCustomMobile=e},setIsDataLoaded(e){u.isDataLoaded=e},setIsUiLoaded(e){u.isUiLoaded=e},setWalletConnectVersion(e){u.walletConnectVersion=e}},U=y({initialized:!1,ethereumClient:void 0}),j={setEthereumClient(e){!U.initialized&&e&&(U.ethereumClient=e,f.setChains(e.chains),U.initialized=!0)},client(){if(U.ethereumClient)return U.ethereumClient;throw new Error("ClientCtrl has no client set")}},c=y({address:void 0,profileName:void 0,profileAvatar:void 0,profileLoading:!1,balanceLoading:!1,balance:void 0,isConnected:!1}),me={state:c,subscribe(e){return A(c,()=>e(c))},getAccount(){const e=j.client().getAccount();c.address=e.address,c.isConnected=e.isConnected},async fetchProfile(e,t){try{c.profileLoading=!0;const n=t??c.address,{id:r}=j.client().getDefaultChain();if(n&&r===1){const[l,d]=await Promise.all([j.client().fetchEnsName({address:n,chainId:1}),j.client().fetchEnsAvatar({address:n,chainId:1})]);d&&await e(d),c.profileName=l,c.profileAvatar=d}}finally{c.profileLoading=!1}},async fetchBalance(e){try{c.balanceLoading=!0;const t=e??c.address;if(t){const n=await j.client().fetchBalance({address:t});c.balance={amount:n.formatted,symbol:n.symbol}}}finally{c.balanceLoading=!1}},setAddress(e){c.address=e},setIsConnected(e){c.isConnected=e},resetBalance(){c.balance=void 0},resetAccount(){c.address=void 0,c.isConnected=!1,c.profileName=void 0,c.profileAvatar=void 0,c.balance=void 0}},k=y({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chainImages:void 0,tokenImages:void 0,standaloneChains:void 0,enableStandaloneMode:!1,enableNetworkView:!1,enableAccountView:!0,enableExplorer:!0,defaultChain:void 0,explorerAllowList:void 0,explorerDenyList:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),x={state:k,subscribe(e){return A(k,()=>e(k))},setConfig(e){var t,n,r,l;if(f.setStandaloneChains(e.standaloneChains),f.setIsStandalone(!!((t=e.standaloneChains)!=null&&t.length)||!!e.enableStandaloneMode),f.setIsCustomMobile(!!((n=e.mobileWallets)!=null&&n.length)),f.setIsCustomDesktop(!!((r=e.desktopWallets)!=null&&r.length)),f.setWalletConnectVersion((l=e.walletConnectVersion)!=null?l:1),e.defaultChain)f.setSelectedChain(e.defaultChain);else if(!f.state.isStandalone){const d=j.client().getDefaultChain();f.setSelectedChain(d)}Object.assign(k,e)}},te="https://explorer-api.walletconnect.com";function be(e){const t=Object.fromEntries(Object.entries(e).filter(([n,r])=>typeof r<"u"&&r!==null&&r!=="").map(([n,r])=>[n,r.toString()]));return new URLSearchParams(t).toString()}const $={async fetchWallets(e,t){const n=be(t),r=`${te}/v3/wallets?projectId=${e}&${n}`;return(await fetch(r)).json()},formatImageUrl(e,t){return`${te}/v3/logo/lg/${t}?projectId=${e}`}},P=y({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},previewWallets:[],recomendedWallets:[]});function B(){const{projectId:e}=x.state;if(!e)throw new Error("projectId is required to work with explorer api");return e}const Ie={state:P,async getPreviewWallets(e){const{listings:t}=await $.fetchWallets(B(),e);return P.previewWallets=Object.values(t),P.previewWallets},async getRecomendedWallets(){const{listings:e}=await $.fetchWallets(B(),{page:1,entries:6});P.recomendedWallets=Object.values(e)},async getPaginatedWallets(e){const{page:t,search:n}=e,{listings:r,total:l}=await $.fetchWallets(B(),e),d=Object.values(r),g=n?"search":"wallets";return P[g]={listings:[...P[g].listings,...d],total:l,page:t??1},{listings:d,total:l}},getImageUrl(e){return $.formatImageUrl(B(),e)},resetSearch(){P.search={listings:[],total:0,page:1}}},w=y({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),M={state:w,subscribe(e){return A(w,()=>e(w))},push(e,t){e!==w.view&&(w.view=e,t&&(w.data=t),w.history.push(e))},replace(e){w.view=e,w.history=[e]},goBack(){if(w.history.length>1){w.history.pop();const[e]=w.history.slice(-1);w.view=e}}},_=y({open:!1}),F={state:_,subscribe(e){return A(_,()=>e(_))},async open(e){return new Promise(t=>{const{isStandalone:n,isUiLoaded:r,isDataLoaded:l}=f.state,{isConnected:d}=me.state,{enableNetworkView:g}=x.state;if(n?(f.setStandaloneUri(e==null?void 0:e.uri),f.setStandaloneChains(e==null?void 0:e.standaloneChains),M.replace("ConnectWallet")):e!=null&&e.route?M.replace(e.route):d?M.replace("Account"):g?M.replace("SelectNetwork"):M.replace("ConnectWallet"),r&&l)_.open=!0,t();else{const m=setInterval(()=>{f.state.isUiLoaded&&f.state.isDataLoaded&&(clearInterval(m),_.open=!0,t())},200)}})},close(){_.open=!1}};function ge(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const z=y({themeMode:ge()?"dark":"light"}),ne={state:z,subscribe(e){return A(z,()=>e(z))},setThemeConfig(e){Object.assign(z,e)}},W=y({open:!1,message:"",variant:"success"}),Pe={state:W,subscribe(e){return A(W,()=>e(W))},openToast(e,t){W.open=!0,W.message=e,W.variant=t},closeToast(){W.open=!1}},N={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",isMobile(){return typeof window<"u"?!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return N.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isEmptyObject(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.getOwnPropertyNames(e).length===0&&Object.getOwnPropertySymbols(e).length===0},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},formatNativeUrl(e,t,n){if(N.isHttpUrl(e))return this.formatUniversalUrl(e,t,n);let r=e;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),this.setWalletConnectDeepLink(r,n);const l=encodeURIComponent(t);return`${r}wc?uri=${l}`},formatUniversalUrl(e,t,n){if(!N.isHttpUrl(e))return this.formatNativeUrl(e,t,n);let r=e;e.endsWith("/")&&(r=e.slice(0,-1)),this.setWalletConnectDeepLink(r,n);const l=encodeURIComponent(t);return`${r}/wc?uri=${l}`},async wait(e){return new Promise(t=>{setTimeout(t,e)})},openHref(e,t){window.open(e,t,"noreferrer noopener")},setWalletConnectDeepLink(e,t){localStorage.setItem(N.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))},setWalletConnectAndroidDeepLink(e){const[t]=e.split("?");localStorage.setItem(N.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))},removeWalletConnectDeepLink(){localStorage.removeItem(N.WALLETCONNECT_DEEPLINK_CHOICE)},isNull(e){return e===null}};typeof window<"u"&&(window.Buffer||(window.Buffer=le.Buffer),window.global||(window.global=window),window.process||(window.process={env:{}}));var Ce=Object.defineProperty,se=Object.getOwnPropertySymbols,Ee=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable,oe=(e,t,n)=>t in e?Ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ve=(e,t)=>{for(var n in t||(t={}))Ee.call(t,n)&&oe(e,n,t[n]);if(se)for(var n of se(t))ye.call(t,n)&&oe(e,n,t[n]);return e};class Oe{constructor(t){this.openModal=F.open,this.closeModal=F.close,this.subscribeModal=F.subscribe,this.setTheme=ne.setThemeConfig,ne.setThemeConfig(t),x.setConfig(ve({enableStandaloneMode:!0},t)),this.initUi()}async initUi(){if(typeof window<"u"){await ce(()=>import("./index-905e42e1.js"),["assets/index-905e42e1.js","assets/browser-a1ac24ac.js","assets/index-ba6688ab.js","assets/react-vendor-52657d9a.js","assets/ui-vendor-079a8d5b.js","assets/eth-vendor-717c6f2d.js","assets/index-9c2c130e.css"]);const t=document.createElement("w3m-modal");document.body.insertAdjacentElement("beforeend",t),f.setIsUiLoaded(!0)}}}const We=Object.freeze(Object.defineProperty({__proto__:null,Web3Modal:Oe},Symbol.toStringTag,{value:"Module"}));export{ne as $,j as C,me as N,Ie as P,Pe as T,x as W,We as a,f as i,F as j,N as m,M as w};
